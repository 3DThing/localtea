# API Маршруты (Endpoints) модуля Catalog

В этом документе описаны маршруты API для работы с каталогом товаров.
Базовый префикс для всех маршрутов: `/api/v1/catalog`.

## Категории (Categories)

### `GET /categories/`
*   **Описание**: Получение дерева категорий.
*   **Ответ**: Список объектов `CategoryTree` (иерархическая структура).
*   **Обоснование реализации**:
    *   Возвращается готовое дерево для удобства отображения на фронтенде.
    *   Дерево строится вручную (`backend/crud/crud_catalog.py`), а не через рекурсивную валидацию Pydantic, чтобы избежать `RecursionError` при работе с ORM-объектами SQLAlchemy.

### `GET /categories/{category_id}`
*   **Описание**: Получение информации о конкретной категории.
*   **Параметры**: `category_id` (Integer).
*   **Ответ**: Объект `Category` (включая поле `image`).

## Товары (Products)

### `GET /products/`
*   **Описание**: Получение списка товаров с пагинацией и фильтрацией.
*   **Параметры запроса**:
    *   `skip` (int, default=0): Смещение.
    *   `limit` (int, default=100): Лимит.
    *   `category_id` (Integer, optional): Фильтр по категории.
*   **Ответ**: Список объектов `Product`. Каждый объект содержит:
    *   Стандартные поля товара.
    *   `views_count`: Количество просмотров.
    *   `likes_count`: Количество лайков.
    *   `comments_count`: Количество комментариев.
    *   `is_liked`: (bool) Лайкнул ли текущий пользователь/клиент этот товар.

### `GET /products/{product_id}`
*   **Описание**: Получение детальной информации о товаре.
*   **Параметры**: `product_id` (Integer).
*   **Ответ**: Объект `Product` со списком SKU.

## SKU (Stock Keeping Units)

### `GET /skus/{sku_id}`
*   **Описание**: Получение информации о конкретном торговом предложении (вариации товара).
*   **Параметры**: `sku_id` (Integer).
*   **Ответ**: Объект `SKU` с текущим остатком (`quantity`).
