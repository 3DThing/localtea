# Компоненты User Frontend

## Layout компоненты

### Header

**Путь**: `src/components/layout/Header.tsx`

Шапка сайта с навигацией.

**Элементы**:
- Логотип LocalTea (ссылка на главную)
- Основная навигация (Каталог, Блог, О нас, Для бизнеса)
- Поиск товаров
- Иконка корзины с badge-счётчиком товаров
- Кнопка авторизации или аватар пользователя
- Мобильное бургер-меню

### Footer

**Путь**: `src/components/layout/Footer.tsx`

Подвал сайта.

**Секции**:
- Контактная информация
- Ссылки навигации
- Социальные сети
- Копирайт

---

## Общие компоненты

### DeliveryDataBanner

**Путь**: `src/components/DeliveryDataBanner.tsx`

Баннер с предложением заполнить данные доставки.

**Условия отображения**:
- Пользователь авторизован
- Не заполнен адрес, индекс или телефон не верифицирован

**Действие**: Переход в настройки профиля.

### PhoneVerificationModal

**Путь**: `src/components/PhoneVerificationModal.tsx`

Модальное окно для верификации телефона через звонок.

**Пропсы**:
*   `opened` (boolean): Видимость модала.
*   `onClose` (function): Колбэк закрытия.

**Логика**:
1. Инициирует звонок на номер пользователя.
2. Показывает маскированный номер.
3. Автоматически проверяет статус верификации.
4. Показывает результат (успех/ошибка).

### NotificationsContainer

**Путь**: `src/components/NotificationsContainer.tsx`

Контейнер для Mantine уведомлений с кастомной позицией.

---

## Компоненты каталога

### ProductCard

**Путь**: `src/components/catalog/ProductCard.tsx`

Карточка товара для сетки каталога.

**Пропсы**:
*   `product` (object): Объект товара с полями id, title, slug, images, skus.

**Отображает**:
- Изображение товара
- Название (ссылка на карточку)
- Цена (минимальная среди SKU)
- Скидка (если есть)
- Кнопка "В корзину"

### ProductGrid

**Путь**: `src/components/catalog/ProductGrid.tsx`

Адаптивная сетка карточек товаров.

**Пропсы**:
*   `products` (array): Массив товаров.
*   `loading` (boolean, optional): Показывает skeleton-загрузку.

### Filters

**Путь**: `src/components/catalog/Filters.tsx`

Панель фильтров каталога.

**Фильтры**:
- Категория
- Диапазон цен
- Сортировка (по цене, популярности)

---

## Компоненты блога

### ArticleCard

**Путь**: `src/components/blog/ArticleCard.tsx`

Карточка статьи для списка блога.

**Отображает**:
- Изображение обложки
- Заголовок
- Краткое описание
- Дата публикации

### ArticleList

**Путь**: `src/components/blog/ArticleList.tsx`

Список карточек статей с пагинацией.

---

## Комментарии и взаимодействия

Комментарии доступны на страницах статей блога (`/blog/[slug]`) и товаров (`/catalog/[slug]`).

### Функционал комментариев

**Создание**:
- Форма с textarea доступна авторизованным пользователям.
- Неавторизованные видят placeholder с предложением войти.

**Управление собственными комментариями**:
- Меню с тремя точками (⋮) открывает контекстные действия.
- Автор может удалить свой комментарий.

**Жалоба на чужие комментарии**:
- Для чужих комментариев в меню доступна кнопка "Пожаловаться".
- Открывается модальное окно для ввода причины жалобы.
- После отправки пользователь получает уведомление о принятии жалобы.

**Отображение**:
- Аватар автора.
- Username.
- Дата публикации.
- Текст комментария.

---

## Страничные компоненты

### Корзина и Checkout (`/cart`)

**Путь**: `src/app/cart/page.tsx`

Трёхшаговый процесс оформления заказа (Mantine Stepper).

**Шаги**:
1. **Корзина** — список товаров, изменение количества, удаление.
2. **Доставка** — выбор способа (Самовывоз / Почта России).
3. **Контакты** — ввод данных получателя и переход к оплате.

### Профиль (`/profile`)

**Путь**: `src/app/profile/page.tsx`

Личный кабинет пользователя (Mantine Tabs).

**Вкладки**:
1. **Профиль** — основная информация, аватар.
2. **Заказы** — история заказов со статусами.
3. **Избранное** — сохранённые товары.
4. **Настройки** — редактирование данных профиля.

### Страница успешной оплаты (`/payment/success`)

**Путь**: `src/app/payment/success/page.tsx`

Страница подтверждения платежа.

**Функционал**:
- Сообщение об успехе
- Автоматический редирект в профиль через 10 секунд
- Кнопка для немедленного перехода
