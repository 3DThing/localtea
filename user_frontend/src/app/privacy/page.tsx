'use client';

import { Anchor, Container, Divider, List, Stack, Text, Title } from '@mantine/core';
import Link from 'next/link';
import { colors } from '@/lib/theme';

const LAST_UPDATED = '26.12.2025';

export default function PrivacyPolicyPage() {
  return (
    <Container size="md" py="xl">
      <Stack gap="md">
        <Title order={1} style={{ color: colors.textPrimary }}>
          Политика конфиденциальности
        </Title>
        <Text size="sm" c={colors.textMuted}>
          Дата последнего обновления: {LAST_UPDATED}
        </Text>

        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Этот документ описывает, как сервис LocalTea (далее — «Сервис») обрабатывает персональные данные пользователей
          сайта. Сервис предназначен для продажи чая, оформленного в тематике фэнтези‑миров.
        </Text>

        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Политика составлена с учётом требований законодательства Российской Федерации, включая Федеральный закон
          № 152‑ФЗ «О персональных данных», № 242‑ФЗ (локализация персональных данных граждан РФ), № 149‑ФЗ «Об
          информации, информационных технологиях и о защите информации» и связанных подзаконных актов.
        </Text>

        <Divider my="sm" style={{ borderColor: 'rgba(212,137,79,0.12)' }} />

        <Title order={3} style={{ color: colors.textPrimary }}>
          1. Оператор и контакты
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Оператор персональных данных: <b>Вальтер Владислав Сергеевич</b>, самозанятый (плательщик налога на
          профессиональный доход, НПД), ИНН: <b>502014830390</b>.
        </Text>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Контакты для обращений по персональным данным: <b>rbiter@localtea.ru</b>.
        </Text>

        <Title order={3} style={{ color: colors.textPrimary }}>
          2. Какие данные мы обрабатываем
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Мы обрабатываем только те категории данных, которые необходимы для работы Сервиса.
          Конкретный состав зависит от действий пользователя.
        </Text>
        <List spacing="xs" c={colors.textSecondary}>
          <List.Item>
            Данные аккаунта: e‑mail, пароль (в виде криптографического хеша), телефон (при подтверждении), имя/ник (если
            предусмотрено).
          </List.Item>
          <List.Item>
            Данные для оформления и исполнения заказов: состав заказа, адрес доставки, получатель, комментарии к заказу,
            история заказов, статусы доставок.
          </List.Item>
          <List.Item>
            Платёжные данные: сведения о факте оплаты, идентификаторы транзакций/платежей. Банковские реквизиты карты и
            CVC/CVV не должны обрабатываться Сервисом и обрабатываются платёжным провайдером (если он используется).
          </List.Item>
          <List.Item>
            Технические данные: IP‑адрес, user‑agent, cookies, параметры устройства/браузера, дата/время доступа, события
            безопасности (например, попытки входа).
          </List.Item>
          <List.Item>
            Переписка и обращения: сообщения в поддержку, обращения по e‑mail/мессенджерам (если пользователь их
            направляет).
          </List.Item>
        </List>

        <Title order={3} style={{ color: colors.textPrimary }}>
          3. Цели и правовые основания обработки
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Мы обрабатываем персональные данные на следующих основаниях (в зависимости от ситуации): согласие субъекта
          персональных данных (ст. 9 № 152‑ФЗ), исполнение договора/оферты, выполнение обязанностей, установленных
          законодательством РФ, а также защита прав и законных интересов оператора и пользователей.
        </Text>
        <List spacing="xs" c={colors.textSecondary}>
          <List.Item>
            Регистрация и управление аккаунтом, аутентификация и безопасность.
          </List.Item>
          <List.Item>
            Оформление, оплата, доставка и возврат заказов.
          </List.Item>
          <List.Item>
            Обработка обращений и претензий, поддержка пользователей.
          </List.Item>
          <List.Item>
            Направление сервисных уведомлений (о заказах, доставке, безопасности аккаунта).
          </List.Item>
          <List.Item>
            Маркетинговые рассылки (только при наличии отдельного согласия и/или при соблюдении требований закона о
            рекламе № 38‑ФЗ и иных применимых норм).
          </List.Item>
        </List>

        <Title order={3} style={{ color: colors.textPrimary }}>
          4. Условия обработки, хранение и локализация
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Обработка включает сбор, запись, систематизацию, накопление, хранение, уточнение, извлечение, использование,
          передачу (предоставление/доступ), блокирование, удаление и уничтожение персональных данных.
        </Text>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Если Сервис обрабатывает персональные данные граждан РФ через сайт в сети «Интернет», оператор обязан обеспечить
          запись, систематизацию, накопление, хранение и уточнение таких данных с использованием баз данных,
          находящихся на территории РФ (требования № 242‑ФЗ).
        </Text>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Сроки хранения: до достижения целей обработки, либо до отзыва согласия (когда применимо), либо в течение сроков,
          установленных законодательством РФ для соответствующих категорий документов/операций.
        </Text>

        <Title order={3} style={{ color: colors.textPrimary }}>
          5. Передача третьим лицам
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Мы можем передавать персональные данные только в объёме, необходимом для достижения целей обработки, следующим
          категориям получателей (при наличии договоров поручения/оказания услуг и обязательств по конфиденциальности):
        </Text>
        <List spacing="xs" c={colors.textSecondary}>
          <List.Item>Платёжные провайдеры (для приёма оплат и фискализации, если применимо).</List.Item>
          <List.Item>Службы доставки и пункты выдачи (для доставки заказов).</List.Item>
          <List.Item>Провайдеры SMS/e‑mail (для кодов подтверждения и уведомлений).</List.Item>
          <List.Item>Хостинг/облачная инфраструктура и подрядчики по техподдержке (в роли обработчиков).</List.Item>
        </List>

        <Title order={3} style={{ color: colors.textPrimary }}>
          6. Трансграничная передача
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Трансграничная передача персональных данных (ст. 12 № 152‑ФЗ) допускается при соблюдении требований
          законодательства РФ. Если в инфраструктуре используются иностранные сервисы (например, аналитика/почтовые
          провайдеры), оператор обязан оценить правовые основания и обеспечить соблюдение требований по локализации и
          трансграничной передаче.
        </Text>

        <Title order={3} style={{ color: colors.textPrimary }}>
          7. Cookies и аналитика
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Сервис может использовать cookies и аналогичные технологии для работы сайта, повышения безопасности и улучшения
          пользовательского опыта. Если используются аналитические/маркетинговые cookies, рекомендуется предусмотреть
          механизм получения согласия/настройки (в зависимости от фактической реализации и правовой позиции оператора).
        </Text>

        <Title order={3} style={{ color: colors.textPrimary }}>
          8. Меры защиты
        </Title>
        <List spacing="xs" c={colors.textSecondary}>
          <List.Item>
            Передача данных между браузером и Сервисом осуществляется по защищённому протоколу HTTPS (при корректной
            настройке домена/окружения).
          </List.Item>
          <List.Item>
            Пароли не хранятся в открытом виде и обрабатываются с использованием стойкого хеширования (в проекте
            применяется Argon2).
          </List.Item>
          <List.Item>
            Для авторизации используется токен доступа (Bearer), а для продления сессии — refresh‑токен в cookie.
            Refresh‑токен на сервере хранится в виде хеша; при обновлении может применяться ротация.
          </List.Item>
          <List.Item>
            Для запросов, изменяющих состояние, применяется защита от CSRF с использованием CSRF‑токена в cookie и
            заголовка (Double Submit Cookie).
          </List.Item>
          <List.Item>
            Для снижения риска подбора паролей/злоупотреблений используются ограничения частоты запросов (rate limiting)
            на чувствительных эндпоинтах (например, вход/регистрация/обновление токена).
          </List.Item>
          <List.Item>
            Входные данные валидируются на сервере; для пользовательского контента могут применяться меры снижения риска
            XSS (например, очистка/санитизация комментариев).
          </List.Item>
          <List.Item>
            Применяются меры контроля доступа и журналирование событий безопасности в объёме, необходимом для защиты
            аккаунтов и расследования инцидентов.
          </List.Item>
        </List>

        <Title order={3} style={{ color: colors.textPrimary }}>
          9. Права субъекта персональных данных
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Пользователь имеет права, предусмотренные № 152‑ФЗ, включая право на получение сведений об обработке,
          уточнение/блокирование/уничтожение данных при наличии оснований, отзыв согласия (когда применимо), а также право
          обратиться с жалобой в уполномоченный орган (Роскомнадзор) или в суд.
        </Text>

        <Title order={3} style={{ color: colors.textPrimary }}>
          10. Как связаться и как отозвать согласие
        </Title>
        <Text c={colors.textSecondary} style={{ lineHeight: 1.8 }}>
          Направьте запрос на <Anchor href="mailto:rbiter@localtea.ru" style={{ color: colors.accent }}>
            rbiter@localtea.ru
          </Anchor>{' '}
          с темой «Персональные данные». Мы можем запросить дополнительные сведения для подтверждения личности.
        </Text>

        <Divider my="sm" style={{ borderColor: 'rgba(212,137,79,0.12)' }} />

        <Text size="sm" c={colors.textMuted}>
          См. также:{' '}
          <Anchor component={Link} href="/terms" style={{ color: colors.accent, fontWeight: 600 }}>
            Условия использования
          </Anchor>
          {' '}и{' '}
          <Anchor component={Link} href="/offer" style={{ color: colors.accent, fontWeight: 600 }}>
            Публичная оферта
          </Anchor>
          .
        </Text>
      </Stack>
    </Container>
  );
}
